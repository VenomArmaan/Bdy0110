<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Countdown</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">

    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #ffa7c4;
            color: rgb(255, 12, 174);
            font-family: Arial, sans-serif;
            font-size: 5vw;
            margin: 0;
            position: relative;
            flex-direction: column;
            transition: background-image 1s ease;
            overflow: hidden;
        }

        .Countdown {
            text-align: center;
            cursor: default;
            transition: color 0.3s ease;
            font-family: "Dancing Script", cursive;
            display: flex;
            align-items: center;
            gap: 2vw;
        }

        .celebrate-hover:hover {
            color: #00ffcc;
        }

        .corner-img {
            position: absolute;
            height: auto;
            transition: opacity 1s ease;
        }

        .top-left,
        .top-right,
        .bottom-left,
        .bottom-right {
            width: 20vw;
        }

        .top-left {
            top: 0;
            left: 0;
        }

        .top-right {
            top: 0;
            right: 0;
        }

        .bottom-left {
            bottom: 0;
            left: 0;
        }

        .bottom-right {
            bottom: 0;
            right: 0;
        }

        .gif-container {
            display: block;
            margin-top: 20px;
            text-align: center;
        }

        .gif-container img {
            max-width: 40%;
            height: auto;
        }

        .ribbon {
            font-size: 0.8em;
        }

        #video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 999;
            opacity: 0;
            transition: opacity 1s ease;
        }

        #video-container video {
            width: 100%;
            height: auto;
            max-height: 90vh;
            object-fit: contain;
        }

        @media (max-width: 600px) {
            body {
                font-size: 6vw;
            }

            .Countdown {
                gap: 3vw;
            }

            .top-left,
            .top-right,
            .bottom-left,
            .bottom-right {
                width: 25vw;
            }

            .gif-container img {
                max-width: 60%;
            }

            .ribbon {
                font-size: 1em;
            }
        }
    </style>
</head>

<body>
    <div class="Countdown">
        <span class="ribbon">ðŸŽ€</span>
        <span class="countdown-text"></span>
        <span class="ribbon">ðŸŽ€</span>
    </div>

    <div class="gif-container">
        <img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExMHVzdTBybGhwOXhleGcxbXNrdXVvaGFidXhudWowaTBqdXp1cTg0MiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/c76IJLufpNwSULPk77/giphy.gif"
            alt="Event Celebration GIF">
    </div>

    <img src="images/imgTL.png" alt="Top Left Decoration" class="corner-img top-left">
    <img src="images/imgTR.png" alt="Top Right Decoration" class="corner-img top-right">
    <img src="images/imgBL.png" alt="Bottom Left Decoration" class="corner-img bottom-left">
    <img src="images/imgBR.png" alt="Bottom Right Decoration" class="corner-img bottom-right">

    <div id="video-container">
        <video id="celebration-video">
            <source src="images/BlowCandle.mp4" type="video/mp4">
            Your browser does not support the video element.
        </video>
    </div>

    <script>
        window.addEventListener('click', () => {
            const music = document.getElementById('bg-music');
            if (music.paused) {
                music.play().catch(e => {
                    console.warn("Autoplay failed:", e);
                });
            }
        }, { once: true });

        const eventDate = new Date('2025-10-01T00:00:00');

        function pad(num) {
            return num.toString().padStart(2, '0');
        }

        function updateCountdown() {
            const now = new Date();
            const diff = eventDate - now;
            const countdownText = document.querySelector('.countdown-text');

            if (diff <= 0) {
                countdownText.innerHTML = "âœ¨It's your birthday!!!!âœ¨";
                countdownText.parentElement.classList.add("celebrate-hover");

                document.body.style.backgroundImage = "url('images/sparklyBlackBg.png')";
                document.body.style.backgroundSize = "cover";
                document.body.style.backgroundRepeat = "no-repeat";

                document.querySelector('.gif-container').style.display = 'none';

                document.querySelectorAll('.corner-img').forEach(img => {
                    img.style.opacity = '0';
                    setTimeout(() => img.style.display = 'none', 1000);
                });

                countdownText.parentElement.addEventListener("mouseenter", () => {
                    countdownText.innerHTML = "ðŸŽ‰ Let's Celebrate!!! ðŸŽ‰";
                });

                countdownText.parentElement.addEventListener("mouseleave", () => {
                    countdownText.innerHTML = "âœ¨It's your birthday!!!!âœ¨";
                });

                countdownText.parentElement.addEventListener("click", () => {
                    const videoContainer = document.getElementById('video-container');
                    videoContainer.style.display = 'flex';
                    setTimeout(() => {
                        videoContainer.style.opacity = 1;
                    }, 10);

                    const video = document.getElementById('celebration-video');
                    video.play();

                    video.onended = () => {
                        videoContainer.style.opacity = 0;
                        setTimeout(() => {
                            window.location.href = "/Bdy0110/HomePageBdy";
                        }, 1000);
                    };
                });

                clearInterval(interval);
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / (1000 * 60)) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            countdownText.innerHTML = `${days}d ${pad(hours)}h ${pad(minutes)}m ${pad(seconds)}s`;
        }

        const interval = setInterval(updateCountdown, 1000);
        updateCountdown();
    </script>

    <audio id="bg-music" autoplay loop hidden>
        <source src="lofi-sweet-song-265674.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
</body>

</html>
